<!-- Settings Component Export -->
<!-- CSS -->
<style>
    /* Settings Dropdown - Desktop Only */
    .settings-dropdown {
        position: absolute;
        top: calc(100% + 10px);
        right: 0;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        min-width: 280px;
        padding: 0.5rem 0;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    /* Desktop show state */
    @media (min-width: 769px) {
        .settings-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
    }

    /* Settings Dropdown Mobile - FIXED */
    .settings-dropdown {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        height: auto !important;
        max-height: 80vh !important;
        background: white !important;
        border-radius: 20px 20px 0 0 !important;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.15) !important;
        z-index: 99999 !important;
        overflow-y: auto !important;
        margin: 0 !important;
        padding: 1rem 0 !important;
        
        /* Hidden by default */
        transform: translateY(100%) !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
    }
    
    .settings-dropdown.show {
        transform: translateY(0) !important;
        opacity: 1 !important;
        visibility: visible !important;
        display: block !important;
    }
</style>

<!-- HTML Structure -->
<div class="settings-dropdown" id="settingsDropdown">
    <div class="dropdown-header">
        <div class="dropdown-title">Farm Hub Menu</div>
        <div class="dropdown-subtitle">System Settings</div>
    </div>
    <div class="dropdown-section">
        <div class="dropdown-section-title">Configuration</div>
        <button class="dropdown-item" onclick="openSettings('units')">
            <span class="dropdown-icon">üìè</span>
            Units & Time
        </button>
        <button class="dropdown-item" onclick="openSettings('location')">
            <span class="dropdown-icon">üìç</span>
            Location & Weather
        </button>
    </div>
    
    <div class="dropdown-section">
        <div class="dropdown-section-title">System</div>
        <button class="dropdown-item" onclick="openSettings('ota')">
            <span class="dropdown-icon">üîÑ</span>
            Firmware Updates
        </button>
        <button class="dropdown-item" onclick="openSettings('backup')">
            <span class="dropdown-icon">üíæ</span>
            Backup & Restore
        </button>
        <button class="dropdown-item" onclick="openSettings('logs')">
            <span class="dropdown-icon">üìã</span>
            System Logs
        </button>
    </div>

    <div class="dropdown-section">
        <div class="dropdown-section-title">About</div>
        <button class="dropdown-item" onclick="openSettings('about')">
            <span class="dropdown-icon">‚ÑπÔ∏è</span>
            About Farm Hub
        </button>
        <a href="https://github.com/ngomapa/farm-hub" target="_blank" class="dropdown-item">
            <span class="dropdown-icon">‚≠ê</span>
            GitHub Repository
        </a>
    </div>
    
    <div class="dropdown-footer">
        Farm Hub v2.1.4
    </div>
</div>

<!-- JavaScript Logic -->
<script>
    // Toggle Function
    function toggleSettings(event) {
        console.log('‚öôÔ∏è Settings toggled');
        if (event) {
            event.stopPropagation();
            event.preventDefault();
        }
        const dropdown = document.getElementById('settingsDropdown');
        if (dropdown) {
            dropdown.classList.toggle('show');
        }
    }

    // Close on Outside Click
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('settingsDropdown');
        if (dropdown && dropdown.classList.contains('show')) {
            if (!dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        }
    });

    // Open Modal Handlers (placeholders)
    function openSettings(type) {
        console.log('Open setting:', type);
        document.getElementById('settingsDropdown').classList.remove('show');
        // Implementation typically involves showing a modal based on type
    }
</script>
